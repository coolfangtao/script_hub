<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Amazon Scraper</title>
    <script src="tailwind.js"></script>
    <style>
        /* 设置一个更紧凑的宽度和自定义字体 */
        body {
            width: 320px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f8fafc; /* 使用更柔和的 slate-50 背景色 */
        }
        /* 优化默认的加载圈样式，使其与按钮颜色匹配 */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: #ffffff;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="p-4">
        <header class="flex items-center gap-3 mb-5">
            <div class="bg-orange-500 p-2 rounded-lg shadow">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
            </div>
            <div>
                <h1 class="text-lg font-bold text-slate-900">亚马逊评论抓取</h1>
                <p class="text-xs text-slate-500">一键提取商品与评论(未经授权，禁止商用)</p>
                <p class="text-xs text-slate-500 mt-1">作者：方涛，Email：843751829@qq.com</p>
            </div>
        </header>

        <div class="mb-4">
            <label for="exportFormat" class="block text-xs font-medium text-slate-700 mb-1">选择导出格式:</label>
            <select id="exportFormat" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md shadow-sm">
                <option value="json" selected>JSON (完整数据结构)</option>
                <option value="csv">CSV (适合导入 Excel)</option>
                <option value="txt">TXT (纯文本，摘要)</option>
            </select>
        </div>
        <button id="scrapeButton" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75 flex items-center justify-center gap-2 disabled:bg-slate-400 disabled:cursor-not-allowed">
            <div id="loadingIndicator" class="hidden"><div class="spinner"></div></div>
            <span id="buttonText">开始抓取</span>
        </button>

        <div id="statusMessage" class="mt-4 p-3 text-sm rounded-lg border flex items-start gap-3 hidden" role="alert">
            <span class="font-medium flex-shrink-0 status-icon"></span>
            <span class="status-text"></span>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>